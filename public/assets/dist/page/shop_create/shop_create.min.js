angular.module("software").controller("CreateController",["$scope","$http","Dialog","User",function(e,o,s,t){e.shop={},e.shop.poster="/images/shops/poster/default/default2.jpg",e.startTime={value:moment(new Date).format("YYYY-MM-DD HH:mm:ss"),onlyTime:!0,describe:"最早什么时候接受预订"},e.endTime={value:moment(new Date).format("YYYY-MM-DD HH:mm:ss"),onlyTime:!0,describe:"最晚什么时候接受预订"},e.save=function(){console.log(e.shop),o.post("/service/shop/create",e.shop).success(function(){s.alert({msg:"创建成功",status:"success",refresh:!1},function(){window.location.href="/user_center/shop"})}).error(function(e){s.alert({msg:e.msg,status:"error"})})},e.redirectOrder=function(e){t.isLogin?window.location.href="/shop/order?id="+e:s.alert({msg:"你尚未登录",status:"error"})},e.$on("time-change",function(){e.startTime.value>e.endTime.value?(e.errorMsg="开始时间应该小于结束时间",e.timeError=!0):(e.timeError=!1,e.shop.start_time=e.startTime.value,e.shop.end_time=e.endTime.value)}),e.$on("imageuploadSuccess",function(o,s){console.log(s),e.$apply(function(){e.shop.poster=s.succeed_files[0].path})}),o.get("/service/shop/hot").success(function(o){e.recommendShops=o})}]);
//# sourceMappingURL=shop_create.min.js.map